<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script src="https://cdn.socket.io/socket.io-1.2.1.js"></script>
  <script type="text/javascript">
var socket = io('http://localhost:9999');

socket.on('connect', function() {
  console.log('Connected!');
});

socket.on('here', addEvent.bind(null, 'here'));

socket.on('start', addEvent.bind(null, 'Start'));
socket.on('pass', addEvent.bind(null, 'pass'));
socket.on('fail', addEvent.bind(null, 'fail'));
socket.on('suite', addEvent.bind(null, 'suite'));
socket.on('test', addEvent.bind(null, 'test'));

socket.on('disconnect', function() {
  console.log('Disconnected!');
});

function addEvent(evt, data) {
  var str = evt + (data ? JSON.stringify(data) : '');
  var ul = document.getElementById('event-sink');
  var li = document.createElement('li');
  var txt = document.createTextNode(str);
  li.appendChild(txt);
  ul.appendChild(li)
}
  </script>
</head>
<body>
  <h1>Mocha Events:</h1>
  <ul id="event-sink">
  </ul>
</body>
</html>
